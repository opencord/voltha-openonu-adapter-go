{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "56929f39_4ed7f2fa",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000671
      },
      "writtenOn": "2022-02-03T09:08:50Z",
      "side": 1,
      "message": "@Girish: Seems to be that reusing the onuKvbackend is not always working. Then the loop above show be resolved and ONU- and PM-data should be deleted discretly.",
      "revId": "f10379e74e5467e25dd2f23209bcc890241e350b",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3e474370_a28ccba6",
        "filename": "internal/pkg/core/openonu.go",
        "patchSetId": 1
      },
      "lineNbr": 1093,
      "author": {
        "id": 1000671
      },
      "writtenOn": "2022-02-03T09:08:50Z",
      "side": 1,
      "message": "It seems that reusing the onuKvbackend does not always work. Then the above loop should be resolved and ONU and PM data should be deleted discretely. But the solution of the current patch works as well for the time being.",
      "range": {
        "startLine": 1093,
        "startChar": 2,
        "endLine": 1093,
        "endChar": 15
      },
      "revId": "f10379e74e5467e25dd2f23209bcc890241e350b",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ab7e7cb7_5d13d5f7",
        "filename": "internal/pkg/core/openonu.go",
        "patchSetId": 1
      },
      "lineNbr": 1093,
      "author": {
        "id": 1000127
      },
      "writtenOn": "2022-02-03T17:51:49Z",
      "side": 1,
      "message": "I am not sure I understand this comment. The PM data deletion and ONU data deletion use different backends. There is no reuse.",
      "parentUuid": "3e474370_a28ccba6",
      "range": {
        "startLine": 1093,
        "startChar": 2,
        "endLine": 1093,
        "endChar": 15
      },
      "revId": "f10379e74e5467e25dd2f23209bcc890241e350b",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4d9c8115_b9f39a97",
        "filename": "internal/pkg/core/openonu.go",
        "patchSetId": 1
      },
      "lineNbr": 1093,
      "author": {
        "id": 1000671
      },
      "writtenOn": "2022-02-04T11:21:14Z",
      "side": 1,
      "message": "The idea was to reuse the local variable onuKvbackend to include a new backend definition in each loop iteration. baseKvStorePath differs in each run: \nbaseKvStorePath :\u003d fmt.Sprintf(onuKvStorePathPrefixes[i], oo.cm.Backend.PathPrefix).\nHowever, this would only work if onuKvbackend.DeleteWithPrefix(ctx, aDeviceID) would run completely synchronously. Therefore, the loop should be removed and replaced by deleting onu data only, followed by your new code for pm data below.",
      "parentUuid": "ab7e7cb7_5d13d5f7",
      "range": {
        "startLine": 1093,
        "startChar": 2,
        "endLine": 1093,
        "endChar": 15
      },
      "revId": "f10379e74e5467e25dd2f23209bcc890241e350b",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a021216b_a23b92e1",
        "filename": "internal/pkg/core/openonu.go",
        "patchSetId": 1
      },
      "lineNbr": 1093,
      "author": {
        "id": 1000127
      },
      "writtenOn": "2022-02-04T19:37:22Z",
      "side": 1,
      "message": "Ack\n\nSubmitted this patch https://gerrit.opencord.org/c/voltha-openonu-adapter-go/+/30777",
      "parentUuid": "4d9c8115_b9f39a97",
      "range": {
        "startLine": 1093,
        "startChar": 2,
        "endLine": 1093,
        "endChar": 15
      },
      "revId": "f10379e74e5467e25dd2f23209bcc890241e350b",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388"
    }
  ]
}