{
  "comments": [
    {
      "key": {
        "uuid": "3bc49e2f_4ca95fd4",
        "filename": "internal/pkg/onuadaptercore/omci_vlan_config.go",
        "patchSetId": 23
      },
      "lineNbr": 632,
      "author": {
        "id": 1000666
      },
      "writtenOn": "2020-12-04T15:28:00Z",
      "side": 1,
      "message": "similar to comment on line 139 (patch#12): \nWhat is the advantage of the change to using the rule based vtfdID on multiple code positions instead of the \u0027member\u0027 stored vtfdID? \n\u0027member\u0027 stored vtfdID was initialized in enterConfigStarting based on TpID of first rule, but all rules of this FSM instance should have the same TpID",
      "revId": "e764806277ce3a32830eeb289a2ec6e242f83c38",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7ae77c3d_722036d0",
        "filename": "internal/pkg/onuadaptercore/omci_vlan_config.go",
        "patchSetId": 23
      },
      "lineNbr": 632,
      "author": {
        "id": 1000127
      },
      "writtenOn": "2020-12-06T22:12:32Z",
      "side": 1,
      "message": "There could be more than one TP ID associated with the same UNI (for ex: in TT workflow where we have HSI, VoD/Mcast, VoIP).",
      "parentUuid": "3bc49e2f_4ca95fd4",
      "revId": "e764806277ce3a32830eeb289a2ec6e242f83c38",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "21933de3_3cc2b3e4",
        "filename": "internal/pkg/onuadaptercore/omci_vlan_config.go",
        "patchSetId": 23
      },
      "lineNbr": 632,
      "author": {
        "id": 1000666
      },
      "writtenOn": "2020-12-07T12:10:34Z",
      "side": 1,
      "message": "Yes, you are right. It was only in my imagination, that the vlan_config_fsm was updated to uni+tp base in the course of the Multi-Tcont extension, but it was not.\nNow data storage within that FSM was not really prepared to handle data for different techProfiles, and may be on top of your needed changes it is still not fully. It may also result into not intended sequences when configuring different techProfiles for the UNI in parallel.\nBut the vlan_config_fsm can indeed not be seperated to uni+tp base, as only one EVTOCD ME can be used to handle requests from different TechProfiles. \nI would like to have a deeper look on the \u0027Multi-TCont behavior\u0027 of the FSM later on  to verify if Multi-TCont usage is really covered with latest changes here.",
      "parentUuid": "7ae77c3d_722036d0",
      "revId": "e764806277ce3a32830eeb289a2ec6e242f83c38",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6d978f67_7a48253a",
        "filename": "internal/pkg/onuadaptercore/omci_vlan_config.go",
        "patchSetId": 23
      },
      "lineNbr": 683,
      "author": {
        "id": 1000666
      },
      "writtenOn": "2020-12-04T15:28:00Z",
      "side": 1,
      "message": "Andreas comment on patch 12 should have been similar to the one done on line 677 of patch#12:\nerrot treatment with FSM reset is already done within performSettingMulticastME, so not needed here anymore (possibly ignored double reset event)",
      "revId": "e764806277ce3a32830eeb289a2ec6e242f83c38",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "47562d51_441da59d",
        "filename": "internal/pkg/onuadaptercore/omci_vlan_config.go",
        "patchSetId": 23
      },
      "lineNbr": 683,
      "author": {
        "id": 1000116
      },
      "writtenOn": "2020-12-04T16:06:38Z",
      "side": 1,
      "message": "unless I\u0027m mistaken having the reset here at line 683 is correct because we want to reset if the mcast went wrong. Or I misunderstood your comment ?",
      "parentUuid": "6d978f67_7a48253a",
      "revId": "e764806277ce3a32830eeb289a2ec6e242f83c38",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9c4a2145_813fdc6e",
        "filename": "internal/pkg/onuadaptercore/omci_vlan_config.go",
        "patchSetId": 23
      },
      "lineNbr": 765,
      "author": {
        "id": 1000666
      },
      "writtenOn": "2020-12-04T15:28:00Z",
      "side": 1,
      "message": "I don\u0027t suppose this is correct: The first (relevant) VTFD list entry may result also from one of the incremental (\u003e0) rules - in case the first rule(s) are not relevant for VTFD.\nProbably not an real issue by now - current known scenarios use just one rule per FSM.",
      "revId": "e764806277ce3a32830eeb289a2ec6e242f83c38",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d70a8bdd_286aae85",
        "filename": "internal/pkg/onuadaptercore/omci_vlan_config.go",
        "patchSetId": 23
      },
      "lineNbr": 765,
      "author": {
        "id": 1000116
      },
      "writtenOn": "2020-12-04T16:06:38Z",
      "side": 1,
      "message": "added FIXME and open a jira story for this but left as is. https://jira.opencord.org/browse/VOL-3683",
      "parentUuid": "9c4a2145_813fdc6e",
      "revId": "e764806277ce3a32830eeb289a2ec6e242f83c38",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f07687ed_8089d2d6",
        "filename": "internal/pkg/onuadaptercore/omci_vlan_config.go",
        "patchSetId": 23
      },
      "lineNbr": 765,
      "author": {
        "id": 1000127
      },
      "writtenOn": "2020-12-06T22:12:32Z",
      "side": 1,
      "message": "I do not see issue here as in this particular case the number of oFsm.numVlanFilterEntries is still 0 which would also mean there is only one entry in the oFsm.uniVlanFlowParamsSlice slice. So accessing the 0th index should be fine.",
      "parentUuid": "d70a8bdd_286aae85",
      "revId": "e764806277ce3a32830eeb289a2ec6e242f83c38",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2b31e9a3_b63f3a7a",
        "filename": "internal/pkg/onuadaptercore/omci_vlan_config.go",
        "patchSetId": 23
      },
      "lineNbr": 765,
      "author": {
        "id": 1000666
      },
      "writtenOn": "2020-12-07T12:10:34Z",
      "side": 1,
      "message": "there is no issue for accessing oFsm.vlanFilterList[0] - this one is correct, but using oFsm.uniVlanFlowParamsSlice[0] is incorrect here, as the relevant (first) VTFD may result from some incremented rule (not all rules enforce a VTFD configuration).",
      "parentUuid": "f07687ed_8089d2d6",
      "revId": "e764806277ce3a32830eeb289a2ec6e242f83c38",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ce3a422d_04e1e4cc",
        "filename": "internal/pkg/onuadaptercore/omci_vlan_config.go",
        "patchSetId": 23
      },
      "lineNbr": 799,
      "author": {
        "id": 1000666
      },
      "writtenOn": "2020-12-04T15:28:00Z",
      "side": 1,
      "message": "I would disagree: with multiple rules per tag profile there is just one ANI MBPCD for all bidirectional traffic that is assigned one VTFD instance which can collect up to 12 VLAN\u0027s.\n(processing here refers to one instance of the uniEntity/TechProfileID pair).\n- refers to the processing in the following lines",
      "revId": "e764806277ce3a32830eeb289a2ec6e242f83c38",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "34782712_a1158c58",
        "filename": "internal/pkg/onuadaptercore/omci_vlan_config.go",
        "patchSetId": 23
      },
      "lineNbr": 799,
      "author": {
        "id": 1000127
      },
      "writtenOn": "2020-12-06T22:12:32Z",
      "side": 1,
      "message": "I agree with you here. In theory there can be more than one vlans associated with the same TP-ID but we currently do not have such a use case for any of the workflows. I can create a jira for this enhancement.",
      "parentUuid": "ce3a422d_04e1e4cc",
      "revId": "e764806277ce3a32830eeb289a2ec6e242f83c38",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "63333920_577b059f",
        "filename": "internal/pkg/onuadaptercore/omci_vlan_config.go",
        "patchSetId": 23
      },
      "lineNbr": 799,
      "author": {
        "id": 1000666
      },
      "writtenOn": "2020-12-07T12:10:34Z",
      "side": 1,
      "message": "Ack - new Jira.",
      "parentUuid": "34782712_a1158c58",
      "revId": "e764806277ce3a32830eeb289a2ec6e242f83c38",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4ea46d61_3b07190b",
        "filename": "internal/pkg/onuadaptercore/omci_vlan_config.go",
        "patchSetId": 23
      },
      "lineNbr": 929,
      "author": {
        "id": 1000666
      },
      "writtenOn": "2020-12-04T15:28:00Z",
      "side": 1,
      "message": "refers to handling/comment in line 799ff: I suppose the different VLAN\u0027s from different rules of on techProfile have to set in the VTFD list - hence they have to removed fronm there also by the according \u0027setOperation\u0027.",
      "revId": "e764806277ce3a32830eeb289a2ec6e242f83c38",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5bb2e60f_84bacb96",
        "filename": "internal/pkg/onuadaptercore/omci_vlan_config.go",
        "patchSetId": 23
      },
      "lineNbr": 929,
      "author": {
        "id": 1000127
      },
      "writtenOn": "2020-12-06T22:12:32Z",
      "side": 1,
      "message": "Agree. But for now since we do have any use case where there are multiple vlans associated with the same TP ID, I prefer to address as part of a separate jira if that is OK.",
      "parentUuid": "4ea46d61_3b07190b",
      "revId": "e764806277ce3a32830eeb289a2ec6e242f83c38",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f73767e6_5eaef98f",
        "filename": "internal/pkg/onuadaptercore/omci_vlan_config.go",
        "patchSetId": 23
      },
      "lineNbr": 929,
      "author": {
        "id": 1000666
      },
      "writtenOn": "2020-12-07T12:10:34Z",
      "side": 1,
      "message": "Ack - new Jira.",
      "parentUuid": "5bb2e60f_84bacb96",
      "revId": "e764806277ce3a32830eeb289a2ec6e242f83c38",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "338db56c_840d8a6c",
        "filename": "internal/pkg/onuadaptercore/omci_vlan_config.go",
        "patchSetId": 23
      },
      "lineNbr": 1743,
      "author": {
        "id": 1000666
      },
      "writtenOn": "2020-12-04T15:28:00Z",
      "side": 1,
      "message": "Correct, change to include some UNI indication is needed in case multiple UNI\u0027s are used per ONU (so not relevant for current constellation).",
      "revId": "e764806277ce3a32830eeb289a2ec6e242f83c38",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5e757371_cc57a006",
        "filename": "internal/pkg/onuadaptercore/omci_vlan_config.go",
        "patchSetId": 23
      },
      "lineNbr": 1764,
      "author": {
        "id": 1000666
      },
      "writtenOn": "2020-12-04T15:28:00Z",
      "side": 1,
      "message": "comment relevant to the VTFD block here:\nInteresting view: In my point of view such is not needed. It would realize some filtering on the MC stream VLAN\u0027s in downstream (if so supported by the ONU). But in my point of view the downstream MC flow can be trusted and moreover if wanted MC streams can be further filtered (on VID and IP) on the UNI interface based on some set IGMP processing.\nSo I think it does no harm here, but it is also not needed.\nCompare also G988 fig. 8.2.2-10: VTFD not natively mentioned here.",
      "revId": "e764806277ce3a32830eeb289a2ec6e242f83c38",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4044c726_68a16e1f",
        "filename": "internal/pkg/onuadaptercore/omci_vlan_config.go",
        "patchSetId": 23
      },
      "lineNbr": 1764,
      "author": {
        "id": 1000127
      },
      "writtenOn": "2020-12-06T22:12:32Z",
      "side": 1,
      "message": "If it is Ok, I prefer to leave it this way for now.",
      "parentUuid": "5e757371_cc57a006",
      "revId": "e764806277ce3a32830eeb289a2ec6e242f83c38",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "aac70b0c_e2beb916",
        "filename": "internal/pkg/onuadaptercore/omci_vlan_config.go",
        "patchSetId": 23
      },
      "lineNbr": 1764,
      "author": {
        "id": 1000666
      },
      "writtenOn": "2020-12-07T12:10:34Z",
      "side": 1,
      "message": "Ack - may be should be later verified if this really has some effect on some of the available tests (If not - then it should be removed again)",
      "parentUuid": "4044c726_68a16e1f",
      "revId": "e764806277ce3a32830eeb289a2ec6e242f83c38",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9720f8e6_0c61428d",
        "filename": "internal/pkg/onuadaptercore/omci_vlan_config.go",
        "patchSetId": 23
      },
      "lineNbr": 1777,
      "author": {
        "id": 1000666
      },
      "writtenOn": "2020-12-04T15:28:00Z",
      "side": 1,
      "message": "In theory there could be again multiple VLAN rules for the MC related techprofile entry. They would have to be considered here in the list of VLAN\u0027s then. - It is easier not to specifiy the filter at all. Such would be required e..g. when allowing multiple MC ServiceProviders on the PON interface (while there data path connections could be defined in separate TechProfiles).",
      "revId": "e764806277ce3a32830eeb289a2ec6e242f83c38",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0780783e_53b01d83",
        "filename": "internal/pkg/onuadaptercore/omci_vlan_config.go",
        "patchSetId": 23
      },
      "lineNbr": 1777,
      "author": {
        "id": 1000127
      },
      "writtenOn": "2020-12-06T22:12:32Z",
      "side": 1,
      "message": "Agree. I think there can be more than one vlans in the VTFD list for a given TP ID (but we do not have such a use case now). I will create a jira for this for future enhancement",
      "parentUuid": "9720f8e6_0c61428d",
      "revId": "e764806277ce3a32830eeb289a2ec6e242f83c38",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f84dc4f7_def32ad4",
        "filename": "internal/pkg/onuadaptercore/omci_vlan_config.go",
        "patchSetId": 23
      },
      "lineNbr": 1777,
      "author": {
        "id": 1000666
      },
      "writtenOn": "2020-12-07T12:10:34Z",
      "side": 1,
      "message": "Ack - with some new Jira.",
      "parentUuid": "0780783e_53b01d83",
      "revId": "e764806277ce3a32830eeb289a2ec6e242f83c38",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": false
    }
  ]
}